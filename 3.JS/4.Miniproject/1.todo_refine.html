<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">

</head>
<body>
    <h1>투두 리스트</h1>
    <input type = "text" id="userInput" placeholder="할 일 추가하기">
    <button id = "addTodo">추가</button>
    <ul id = "todoList">
        <!-- 할일 -->
    </ul>
        <style>
            #addTodo {
                cursor: pointer;
            
            }

            #todoList {
                list-style-type: none;
                cursor: pointer;
            
            }
        </style>


    <script>
        const todoList = document.getElementById('todoList');
        const addTodo = document.getElementById('addTodo');
        

        // input값 출력시키기
        addTodo.addEventListener('click', function(){
            showTodo()
            deleteInput()
        })
        
        function deleteInput() {
            const userInput = document.getElementById('userInput');    
            userInput.value = '';
            console.log("input값 지워짐")
        }
    
        
        function showTodo() {
            const checkbox = document.createElement('input');
            checkbox.type= 'checkbox';
            
            const userInput = document.getElementById('userInput').value;
            if (userInput.trim() ==="") return;
            // 공백일 경우 출력x
            console.log("텍스트출력")

            const trashBin_button = document.createElement('button');
            trashBin_button.style.backgroundColor = 'white';
            trashBin_button.style.cursor='pointer'
            trashBin_button.style.border = 'none';
            
            const trashBin_icon = document.createElement('i');
            trashBin_icon.style.color = 'red';

            trashBin_icon.className = "fa-solid fa-trash"

            trashBin_button.appendChild(trashBin_icon)


            //  버튼 스타일 지정하기...
        
    
            const space = document.createTextNode("      ")
            
            const new_li = document.createElement('li');

            new_li.appendChild(checkbox);
            new_li.appendChild(document.createTextNode(userInput));
            new_li.appendChild(space);     
            new_li.appendChild(trashBin_button);
            
            document.getElementById('todoList').appendChild(new_li);

            

            // 버튼이 클릭됐다면 new_li를 지울것이다
            trashBin_button.addEventListener('mouseup',deleteBin)

            function deleteBin () {
                this.parentElement.remove();
            }           

            
        }

        
        // Enter도 클릭으로 반영하기

        document.addEventListener('keydown', function(event) {
        if (event.key ==='Enter') {
            showTodo();
            deleteInput();
        }



    })

    </script>
</body>
</html>