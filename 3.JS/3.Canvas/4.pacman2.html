<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            background-color: black;
        }

        #myCanvas {
            border: 1px solid white;
        }
    </style>
</head>

<body>
    <canvas id="myCanvas" width="400" height="300"></canvas>


    <script>
        const canvas = document.getElementById('myCanvas')
        const context = canvas.getContext('2d');


        let x = 100;
        let y = 100;
        let directionX = 1;
        let directionY = -1;
        let moveSpeed = 1;


        let startAngle = 0.2 * Math.PI;
        let endAngle = 1.8 * Math.PI;
        let mouthdirection = +1
        const mouthspeed = 0.01;

        function drawPacman() {
            context.fillStyle = 'yellow';
            context.beginPath();
            context.moveTo(x, y);

            context.arc(x, y, 50, startAngle, endAngle);
            context.fill();
            context.closePath();
        }

        function updateAngles() {
            if (startAngle >= 1.0) {
                mouthdirection = -1;
            } else if (startAngle <= 0.1) {
                mouthdirection = +1;
            }
            startAngle += mouthspeed * mouthdirection;
            endAngle -= mouthspeed * mouthdirection;
        }

        function animate() {
            context.clearRect(0, 0, canvas.width, canvas.height);

            drawPacman();
            updateAngles();
            movePacman();
            requestAnimationFrame(animate);

        }





        document.addEventListener('keydown', handleKeyDown);

        function handleKeyDown(event) {
            switch (event.key) {
                case 'ArrowUp': directionY = -mouthSpeed, directionX = 0;
                    break;
                case 'ArrowDown': directionY = +mouthpeed, directionX = 0;
                    break;
                case 'ArrowLeft': directionY = 0, directionX = -mouthSpeed;
                    break;
                case 'ArrowRight': directionY = 0, directionX = +mouthSpeed;
                    break;

            }
        }

        function movePacman() {
            x += directionX;
            y += directionY;

            if ((x < size/2) || ) {
                x -= directionX;
                return;
            
            if (x > 0) {
                x += directionX;
                return;
            }
            if (y < 0) {
                y -= directionX;
                return;
            }
            if (y > 0) {
                y += directionX;
                return;
            }
        

        }
    }


        animate();


    </script>

</body>

</html>